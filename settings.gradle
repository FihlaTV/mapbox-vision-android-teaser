File secretPropsFile = file('./local.properties')
if (secretPropsFile.exists()) {
    Properties p = new Properties()
    p.load(new FileInputStream(secretPropsFile))
    p.each { name, value ->
        gradle.ext.set name, value
    }
} else {
    throw new IllegalStateException("secret.properties could not be located for build process")
}

if (gradle.ext.BUILD_CORE_FROM_SOURCE) {
    include ':Vision'
    project(':Vision').projectDir = new File("./source/mapbox-vision-android/MapboxVision")
    include ':VisionAr'
    project(':VisionAr').projectDir = new File("./source/mapbox-vision-android/MapboxVisionAR")
    include ':VisionSafety'
    project(':VisionSafety').projectDir = new File("./source/mapbox-vision-android/MapboxVisionSafety")
}

include ':app'
